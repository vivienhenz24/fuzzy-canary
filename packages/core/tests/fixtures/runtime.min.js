;(()=>{"use strict";const l=/(googlebot|bingbot)/i,p=e=>{var t;return e??((t=navigator)==null?void 0:t.userAgent)||""},g=e=>l.test(e),y=()=>{if(typeof document=="undefined")return;const e=(window.HTMLElement||function(){}).prototype;"innerText"in e||Object.defineProperty(e,"innerText",{get(){var t;return((t=this)==null?void 0:t.textContent)||""},set(t){this.textContent=t},configurable:!0})},m=(e,t)=>{let n=document.querySelector(`meta[name="${e}"]`);n||(n=document.createElement("meta"),n.setAttribute("name",e),document.head.appendChild(n)),n.setAttribute("content",t)},u=e=>{const t=document.createComment(`CANARY:${e}`);document.body.appendChild(t)},c=e=>{let t=document.querySelector("[data-scrape-canary]");t||(t=document.createElement("div"),t.setAttribute("data-scrape-canary","1"),document.body.appendChild(t)),t.textContent=e,t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-10000px",t.style.top="0px",t.style.pointerEvents="none",t.style.userSelect="none")};function s({token:e,headerName:t="X-Canary",metaName:n="scrape-canary",registerHeader:r,skipOffscreenForBots:o=!0,userAgent:d}){if(!e||typeof document=="undefined")return;const i=p(d),a=o&&g(i),f=()=>{y(),r==null||r(t,e),m(n,e),u(e),a||c(e)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f):setTimeout(f,0)}typeof window!="undefined"&&(window.YourPkg={init:s});})();
